(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{374:function(e,a,t){"use strict";t.r(a);var n=t(7),l=t(8),r=t(10),s=t(9),c=t(11),o=t(0),i=t.n(o),u=t(372),h=t(19),m=t(34),d=t(375),p=t(373),f=t(370),E=t(13),b=t(378),g=t(379),v=t(14),C=t(377),y=t(369),w=t(367),S=t(133),k=t.n(S),N=function(e){function a(){var e,t;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(c)))).handleChange=function(e,a){var n=a.value;return t.setState({value:n})},t.state={categories:[{value:"all",text:"All"},{value:"articles",text:"Articles"},{value:"products",text:"Products"}],privateChannel:!1,officialChannel:!1,error:!1,messages:[],name:"",category:"",description:"",creatorName:"",creatorEmail:"",creatorPassword:"",fileName:""},t.submitForm=function(){var e=!1,a=[],n=document.getElementById("upload").files[0],l=document.getElementById("creator-email");if(t.state.name.length<3&&(e=!0,a.push("The channel name is less than 3 characters")),t.state.name.length>140&&(e=!0,a.push("The channel name is more than 140 characters")),t.state.description.length<10&&(e=!0,a.push("The channel description is less than 10 characters")),t.state.description.length>140&&(e=!0,a.push("The channel description is more than 140 characters")),""===t.state.category&&(e=!0,a.push("No category selected")),t.state.creatorName.length<3&&(e=!0,a.push("The creator name is less than 3 characters")),t.state.creatorName.length>140&&(e=!0,a.push("The creator name is more than 140 characters")),t.state.creatorPassword.length<3&&(e=!0,a.push("The creator password is less than 3 characters")),t.state.creatorPassword.length>140&&(e=!0,a.push("The creator password is more than 140 characters")),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(l.value).toLowerCase())||(e=!0,a.push("Invalid Email entry")),void 0===n&&(e=!0,a.push("No file selected")),!1===e){var r=new FormData;r.append("name",t.state.name),r.append("description",t.state.description),r.append("private",t.state.privateChannel),r.append("official",t.state.officialChannel),r.append("category",t.state.category),r.append("creatorName",t.state.creatorName),r.append("creatorEmail",t.state.creatorEmail),r.append("creatorPassword",t.state.creatorPassword),r.append("poster",n),k.a.post("/admin/create-channel",r,{headers:{"Content-Type":"multipart/form-data","x-access-token":t.props.auth.user_token}}).then(function(e){e=e.data,console.log(e),e.error?t.setState({loading:!1,messages:["Error creating the channel"],error:!0}):t.setState({loading:!1,messages:["Channel successfully created"],error:!0})}).catch(function(e){return console.log(e)}).finally(function(){t.mounted&&t.setState({loading:!1})})}else t.setState({messages:a,error:e})},t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(C.a,{stackable:!0,columns:3},i.a.createElement(C.a.Row,null,i.a.createElement(C.a.Column,null),i.a.createElement(C.a.Column,null,i.a.createElement(p.a,null,this.state.error&&i.a.createElement(y.a,null,i.a.createElement(y.a.Header,null,"Opps, there were a few problems"),i.a.createElement(y.a.List,null,this.state.messages.map(function(e,a){return i.a.createElement(y.a.Item,{key:a}," ",e)}))),i.a.createElement(w.a,null,i.a.createElement(w.a.Group,{widths:"equal"},i.a.createElement(w.a.Input,{value:this.state.name,onChange:function(a,t){return e.setState({name:t.value})},fluid:!0,label:"Channel Name",placeholder:"Channel Name"})),i.a.createElement(w.a.TextArea,{value:this.state.description,onChange:function(a,t){return e.setState({description:t.value})},label:"Description",placeholder:"What will this channel be about..."}),i.a.createElement(w.a.Checkbox,{label:"Make this channel private?",checked:this.state.privateChannel,onChange:function(a,t){return e.setState({privateChannel:!e.state.privateChannel})}}),i.a.createElement(w.a.Checkbox,{label:"Official Channel?",checked:this.state.officialChannel,onChange:function(a,t){return e.setState({officialChannel:!e.state.officialChannel})}}),i.a.createElement(w.a.Dropdown,{value:this.state.category,onChange:function(a,t){return e.setState({category:t.value})},label:"Category",options:this.state.categories,placeholder:"Select a category"}),i.a.createElement(w.a.Group,{widths:"equal"},i.a.createElement(w.a.Input,{value:this.state.creatorName,onChange:function(a,t){return e.setState({creatorName:t.value})},fluid:!0,label:"Creator Name",placeholder:"Creator Name"})),i.a.createElement(w.a.Group,{widths:"equal"},i.a.createElement(w.a.Input,{id:"creator-email",value:this.state.creatorEmail,type:"email",onChange:function(a,t){return e.setState({creatorEmail:t.value})},fluid:!0,label:"Email",placeholder:"Email"}),i.a.createElement(w.a.Input,{value:this.state.creatorPassword,type:"text",onChange:function(a,t){return e.setState({creatorPassword:t.value})},fluid:!0,label:"Password",placeholder:"Password"})),i.a.createElement(m.a,{as:"label",style:{backgroundColor:"#fff",marginBottom:10},htmlFor:"upload"},i.a.createElement(u.a,{icon:"upload",label:{basic:!0,content:"Select a banner for the channel"},labelPosition:"right"}),i.a.createElement("p",null,this.state.fileName),i.a.createElement("input",{hidden:!0,onChange:function(){var a=document.getElementById("upload").files[0];return e.setState({fileName:void 0===a.name?"":a.name})},id:"upload",multiple:!0,type:"file"})),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(w.a.Button,{onClick:this.submitForm},"Submit"))))),i.a.createElement(C.a.Column,null)))}}]),a}(i.a.Component),x=Object(E.b)(function(e){return{auth:e.auth}})(N),O=t(368),j=function(e){function a(){var e,t;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(c)))).state={name:"",description:"",creatorPassword:"",fileName:""},t.submitForm=function(){var e=!1,a=[],n=document.getElementById("upload").files[0];t.state.name.length<3&&(e=!0,a.push("The channel name is less than 3 characters")),t.state.name.length>140&&(e=!0,a.push("The channel name is more than 140 characters")),t.state.description.length<10&&(e=!0,a.push("The channel description is less than 10 characters")),t.state.description.length>140&&(e=!0,a.push("The channel description is more than 140 characters")),t.state.creatorPassword.length<3&&(e=!0,a.push("The creator password is less than 3 characters")),t.state.creatorPassword.length>140&&(e=!0,a.push("The creator password is more than 140 characters")),void 0===n&&(e=!0,a.push("No file selected")),!1===e||t.setState({messages:a,error:e})},t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(C.a,{stackable:!0,columns:"equal"},i.a.createElement(C.a.Column,null,i.a.createElement(p.a,null,i.a.createElement(O.a,{divided:!0,relaxed:!0},i.a.createElement(O.a.Item,null,i.a.createElement(O.a.Icon,{name:"angle double right",size:"large",verticalAlign:"middle"}),i.a.createElement(O.a.Content,null,i.a.createElement(O.a.Header,{as:"a"},"College/Channel Name here"),i.a.createElement(O.a.Description,null,"Category Here")))))),i.a.createElement(C.a.Column,{width:12},i.a.createElement(p.a,null,this.state.error&&i.a.createElement(y.a,null,i.a.createElement(y.a.Header,null,"Opps, there were a few problems"),i.a.createElement(y.a.List,null,this.state.messages.map(function(e,a){return i.a.createElement(y.a.Item,{key:a}," ",e)}))),i.a.createElement(w.a,null,i.a.createElement(w.a.Group,{widths:"equal"},i.a.createElement(w.a.Input,{value:this.state.name,onChange:function(a,t){return e.setState({name:t.value})},fluid:!0,label:"Channel Name",placeholder:"Channel Name"})),i.a.createElement(w.a.TextArea,{value:this.state.description,onChange:function(a,t){return e.setState({description:t.value})},label:"Description",placeholder:"What will this channel be about..."}),i.a.createElement(w.a.Checkbox,{disabled:!0,value:"",label:"Make this channel private?"}),i.a.createElement(w.a.Checkbox,{disabled:!0,value:"",label:"Official Channel?"}),i.a.createElement(w.a.Dropdown,{disabled:!0,value:"",placeholder:"Select a category"}),i.a.createElement(w.a.Group,{widths:"equal"},i.a.createElement(w.a.Input,{disabled:!0,value:"",fluid:!0,label:"Creator Name",placeholder:"Creator Name"})),i.a.createElement(w.a.Group,{widths:"equal"},i.a.createElement(w.a.Input,{id:"creator-email",disabled:!0,value:"",fluid:!0,label:"Email",placeholder:"Email"}),i.a.createElement(w.a.Input,{value:this.state.creatorPassword,type:"text",onChange:function(a,t){return e.setState({creatorPassword:t.value})},fluid:!0,label:"Password",placeholder:"Password"})),i.a.createElement(m.a,{as:"label",style:{backgroundColor:"#fff",marginBottom:10},htmlFor:"upload"},i.a.createElement(u.a,{icon:"upload",label:{basic:!0,content:"Select a banner for the channel"},labelPosition:"right"}),i.a.createElement("p",null,this.state.fileName),i.a.createElement("input",{hidden:!0,onChange:function(){var a=document.getElementById("upload").files[0];return e.setState({fileName:void 0===a.name?"":a.name})},id:"upload",multiple:!0,type:"file"})),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(w.a.Button,{onClick:this.submitForm},"Submit"))))))}}]),a}(i.a.Component),P=function(e){function a(){var e,t;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(c)))).state={visible:!1},t.handleShowClick=function(){return t.setState({visible:!t.state.visible})},t.handleSidebarHide=function(){return t.setState({visible:!1})},t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.state.visible,t=this.props.history;return i.a.createElement("div",{style:{flex:1}},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:10}},i.a.createElement(u.a,{onClick:this.handleShowClick,icon:!0},i.a.createElement(h.a,{name:"sidebar"})),i.a.createElement("div",{style:{flex:1,textAlign:"center",verticalAlign:"middle"}},i.a.createElement(m.a,null," Campus Story Admin Panel")),i.a.createElement(u.a,{onClick:function(){return e.props.logout()},animated:!0},i.a.createElement(u.a.Content,{visible:!0},"logout"),i.a.createElement(u.a.Content,{hidden:!0},i.a.createElement(h.a,{name:"close"})))),i.a.createElement(d.a.Pushable,{as:p.a},i.a.createElement(d.a,{as:f.a,animation:"overlay",icon:"labeled",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:a,width:"thin"},i.a.createElement(f.a.Item,{as:"a",onClick:function(){return t.push("/admin/create-channel")}},i.a.createElement(h.a,{name:"plus square outline"}),"Create Channel"),i.a.createElement(f.a.Item,{as:"b",onClick:function(){return t.push("/admin/manage-channel")}},i.a.createElement(h.a,{name:"edit outline"}),"Manage Channels")),i.a.createElement(d.a.Pusher,{dimmed:a},i.a.createElement(p.a,{basic:!0,style:{minHeight:"100vh",display:"flex",flexFlow:"column nowrap"}},i.a.createElement(b.a,null,i.a.createElement(g.a,{exact:!0,path:"/admin/create-channel",component:Object(v.a)(x)}),i.a.createElement(g.a,{exact:!0,path:"/admin/manage-channel",component:Object(v.a)(j)}))))))}}]),a}(o.Component);a.default=Object(E.b)(function(e){return{auth:e.auth}},function(e){return{logout:function(a){e({type:"UNAUTH_USER",payload:a})}}})(P)}}]);
//# sourceMappingURL=4.b070ecbd.chunk.js.map